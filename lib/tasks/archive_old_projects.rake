# frozen_string_literal: true

# rubocop:disable Metrics/BlockLength
namespace :projects do
  desc 'archive old projects'
  task archive: :environment do
    PROJECT_IDS = [
      8328, 8373, 8386, 8437, 8450, 8492, 8521, 8522, 8594, 8606, 8620, 8669,
      8671, 8717, 8718, 8721, 8722, 8732, 8747, 8762, 8769, 8780, 8783, 8844,
      8881, 8895, 8924, 8931, 8933, 8990, 8991, 9034, 9084, 9092, 9118, 9117,
      9137, 9168, 9188, 9286, 9299, 9339, 9357, 9363, 9411, 9445, 9453, 9496,
      9565, 9566, 9584, 8292, 8301, 8309, 8312, 8315, 8321, 8322, 8323, 8332,
      8332, 8342, 8345, 8349, 8346, 8347, 8348, 8356, 8357, 8361, 8372, 8367,
      8369, 8374, 8376, 8377, 8378, 8379, 8401, 8403, 8403, 8403, 8403, 8411,
      8412, 8422, 8422, 8435, 8442, 8445, 8448, 8449, 8452, 8464, 8466, 8465,
      8469, 8482, 8497, 8484, 8486, 8489, 8510, 8512, 8518, 8524, 8523, 8523,
      8525, 8537, 8538, 8539, 8546, 8558, 8559, 8564, 8567, 8584, 8585, 8586,
      8588, 8593, 8593, 8601, 8619, 8619, 8635, 8690, 8840, 8840, 8937, 8965,
      9041, 9041, 9119, 9147, 9228, 9228, 9251, 9327, 9327, 9532, 8498, 8625,
      8625, 8634, 1589, 3054, 3555, 4968, 5487, 5817, 5835, 5869, 5952, 6327,
      6511, 6909, 7178, 7218, 7832, 8514, 8533, 8544, 8555, 8573, 8587, 8604,
      8632, 8633, 8638, 8642, 8643, 8803, 8848, 8897, 8978, 9120, 9121, 9290,
      9349, 9349, 9349, 9349, 9517, 1589, 3054, 3555, 5487, 5817, 5835, 5869,
      5952, 6327, 6511, 6909, 7178, 7218, 7832, 8269, 8270, 8271, 8272, 8273,
      8275, 8275, 8276, 8277, 8278, 8279, 8280, 8281, 8282, 8283, 8284, 8285,
      8285, 8286, 8287, 8288, 8289, 8290, 8290, 8291, 8292, 8293, 8294, 8295,
      8296, 8297, 8298, 8299, 8300, 8301, 8302, 8303, 8303, 8303, 8304, 8305,
      8306, 8307, 8308, 8309, 8310, 8310, 8311, 8312, 8313, 8313, 8314, 8315,
      8316, 8317, 8319, 8320, 8321, 8322, 8323, 8324, 8325, 8326, 8327, 8328,
      8329, 8330, 8331, 8332, 8332, 8333, 8333, 8334, 8335, 8336, 8337, 8338,
      8339, 8340, 8341, 8341, 8342, 8343, 8344, 8345, 8346, 8347, 8348, 8349,
      8350, 8351, 8352, 8353, 8354, 8355, 8355, 8356, 8357, 8358, 8359, 8360,
      8361, 8362, 8363, 8365, 8366, 8367, 8368, 8369, 8370, 8371, 8371, 8371,
      8372, 8373, 8374, 8376, 8377, 8378, 8379, 8381, 8382, 8383, 8384, 8385,
      8386, 8387, 8389, 8390, 8391, 8392, 8393, 8394, 8395, 8396, 8397, 8398,
      8399, 8400, 8401, 8402, 8403, 8403, 8403, 8403, 8404, 8405, 8406, 8407,
      8408, 8409, 8410, 8411, 8412, 8413, 8414, 8417, 8419, 8420, 8420, 8420,
      8420, 8421, 8422, 8422, 8423, 8424, 8425, 8426, 8427, 8428, 8429, 8430,
      8431, 8432, 8433, 8434, 8435, 8436, 8436, 8437, 8439, 8440, 8441, 8442,
      8443, 8444, 8445, 8446, 8446, 8447, 8448, 8449, 8450, 8451, 8452, 8453,
      8454, 8454, 8455, 8456, 8458, 8459, 8460, 8461, 8463, 8464, 8465, 8466,
      8467, 8468, 8468, 8469, 8470, 8471, 8472, 8473, 8474, 8475, 8476, 8477,
      8478, 8478, 8479, 8480, 8482, 8483, 8483, 8483, 8483, 8484, 8485, 8486,
      8487, 8488, 8489, 8490, 8491, 8492, 8494, 8496, 8497, 8498, 8499, 8500,
      8501, 8502, 8503, 8504, 8505, 8506, 8507, 8508, 8509, 8510, 8511, 8512,
      8513, 8514, 8517, 8518, 8519, 8519, 8520, 8521, 8522, 8523, 8523, 8524,
      8525, 8526, 8526, 8527, 8528, 8529, 8530, 8531, 8532, 8537, 8538, 8539,
      8541, 8542, 8543, 8544, 8545, 8546, 8547, 8549, 8550, 8552, 8553, 8554,
      8556, 8557, 8558, 8559, 8561, 8562, 8562, 8563, 8563, 8564, 8565, 8566,
      8566, 8566, 8567, 8569, 8569, 8569, 8569, 8570, 8571, 8572, 8575, 8576,
      8577, 8578, 8579, 8580, 8582, 8584, 8585, 8586, 8587, 8588, 8589, 8590,
      8592, 8593, 8593, 8594, 8596, 8597, 8601, 8606, 8608, 8609, 8610, 8611,
      8612, 8613, 8614, 8614, 8614, 8615, 8616, 8616, 8617, 8617, 8618, 8619,
      8619, 8620, 8621, 8623, 8624, 8625, 8625, 8626, 8627, 8629, 8630, 8631,
      8634, 8635, 8636, 8637, 8639, 8640, 8640, 8641, 8646, 8647, 8649, 8653,
      8656, 8657, 8658, 8659, 8660, 8662, 8663, 8664, 8664, 8665, 8666, 8669,
      8670, 8671, 8673, 8675, 8677, 8678, 8680, 8683, 8684, 8685, 8686, 8688,
      8689, 8690, 8697, 8699, 8701, 8703, 8707, 8708, 8709, 8709, 8711, 8712,
      8713, 8713, 8714, 8715, 8716, 8717, 8718, 8719, 8719, 8720, 8721, 8722,
      8723, 8724, 8726, 8727, 8729, 8730, 8732, 8733, 8735, 8738, 8740, 8742,
      8743, 8743, 8744, 8747, 8748, 8754, 8755, 8756, 8758, 8762, 8763, 8766,
      8767, 8767, 8768, 8769, 8771, 8772, 8777, 8778, 8778, 8780, 8782, 8783,
      8784, 8784, 8784, 8786, 8786, 8799, 8800, 8802, 8803, 8806, 8807, 8807,
      8807, 8808, 8810, 8811, 8813, 8814, 8814, 8815, 8815, 8815, 8818, 8819,
      8820, 8823, 8828, 8832, 8837, 8839, 8840, 8840, 8842, 8842, 8842, 8842,
      8842, 8843, 8844, 8848, 8849, 8850, 8851, 8852, 8853, 8853, 8853, 8853,
      8853, 8853, 8853, 8856, 8858, 8860, 8861, 8861, 8862, 8870, 8871, 8873,
      8875, 8877, 8881, 8882, 8883, 8888, 8890, 8891, 8891, 8892, 8893, 8895,
      8896, 8897, 8898, 8899, 8901, 8902, 8903, 8904, 8905, 8906, 8907, 8907,
      8908, 8910, 8913, 8914, 8915, 8916, 8918, 8919, 8921, 8923, 8924, 8926,
      8927, 8928, 8930, 8931, 8933, 8936, 8937, 8938, 8946, 8946, 8947, 8948,
      8950, 8950, 8951, 8953, 8954, 8955, 8957, 8958, 8959, 8960, 8961, 8962,
      8964, 8965, 8966, 8967, 8968, 8970, 8972, 8973, 8974, 8977, 8978, 8979,
      8980, 8982, 8983, 8984, 8984, 8985, 8987, 8989, 8990, 8991, 8992, 8993,
      8994, 8995, 8997, 9000, 9001, 9005, 9005, 9006, 9006, 9006, 9009, 9010,
      9011, 9012, 9013, 9014, 9020, 9021, 9023, 9023, 9024, 9025, 9027, 9031,
      9034, 9035, 9035, 9035, 9035, 9035, 9036, 9037, 9039, 9040, 9041, 9041,
      9043, 9044, 9046, 9048, 9049, 9050, 9051, 9052, 9053, 9053, 9053, 9054,
      9056, 9057, 9058, 9059, 9060, 9061, 9063, 9064, 9065, 9066, 9069, 9070,
      9071, 9073, 9074, 9076, 9077, 9078, 9080, 9081, 9082, 9084, 9085, 9086,
      9087, 9089, 9090, 9091, 9092, 9096, 9096, 9099, 9100, 9102, 9103, 9104,
      9107, 9108, 9109, 9110, 9111, 9113, 9114, 9117, 9118, 9119, 9120, 9121,
      9122, 9126, 9127, 9129, 9129, 9129, 9129, 9129, 9129, 9129, 9130, 9131,
      9132, 9133, 9135, 9135, 9137, 9139, 9140, 9142, 9143, 9144, 9145, 9147,
      9148, 9149, 9150, 9151, 9152, 9153, 9154, 9154, 9155, 9156, 9156, 9156,
      9157, 9158, 9159, 9159, 9159, 9160, 9161, 9162, 9165, 9166, 9167, 9168,
      9169, 9170, 9171, 9171, 9174, 9175, 9176, 9179, 9179, 9180, 9181, 9182,
      9183, 9183, 9184, 9185, 9188, 9189, 9192, 9192, 9193, 9194, 9195, 9196,
      9197, 9198, 9200, 9201, 9203, 9204, 9205, 9206, 9207, 9208, 9209, 9209,
      9210, 9211, 9214, 9214, 9215, 9216, 9217, 9218, 9219, 9220, 9220, 9221,
      9221, 9221, 9224, 9226, 9227, 9228, 9228, 9229, 9230, 9230, 9231, 9232,
      9233, 9235, 9236, 9237, 9238, 9241, 9242, 9245, 9246, 9247, 9248, 9249,
      9251, 9252, 9253, 9256, 9257, 9258, 9260, 9261, 9264, 9264, 9266, 9267,
      9268, 9268, 9268, 9269, 9270, 9271, 9272, 9273, 9273, 9275, 9278, 9280,
      9282, 9283, 9285, 9286, 9287, 9287, 9288, 9289, 9290, 9291, 9292, 9292,
      9293, 9294, 9294, 9295, 9295, 9297, 9299, 9300, 9301, 9301, 9302, 9303,
      9304, 9304, 9304, 9306, 9308, 9308, 9309, 9311, 9312, 9313, 9313, 9314,
      9315, 9316, 9316, 9318, 9320, 9320, 9321, 9321, 9323, 9325, 9326, 9327,
      9327, 9330, 9330, 9331, 9332, 9333, 9336, 9338, 9339, 9340, 9341, 9341,
      9342, 9343, 9344, 9345, 9346, 9347, 9347, 9348, 9349, 9349, 9349, 9349,
      9350, 9352, 9353, 9354, 9356, 9357, 9359, 9360, 9360, 9361, 9361, 9361,
      9363, 9364, 9364, 9365, 9365, 9366, 9367, 9368, 9369, 9370, 9371, 9372,
      9373, 9376, 9377, 9379, 9380, 9382, 9383, 9384, 9385, 9387, 9389, 9390,
      9390, 9391, 9392, 9393, 9394, 9395, 9396, 9396, 9396, 9397, 9398, 9399,
      9399, 9400, 9404, 9405, 9407, 9410, 9411, 9412, 9419, 9420, 9421, 9422,
      9426, 9427, 9427, 9432, 9433, 9434, 9435, 9437, 9438, 9439, 9441, 9442,
      9443, 9444, 9444, 9445, 9448, 9449, 9450, 9451, 9452, 9452, 9452, 9452,
      9453, 9454, 9455, 9457, 9459, 9460, 9461, 9461, 9462, 9463, 9464, 9465,
      9466, 9467, 9468, 9469, 9469, 9469, 9472, 9473, 9474, 9476, 9478, 9479,
      9480, 9484, 9486, 9487, 9487, 9489, 9491, 9494, 9496, 9497, 9498, 9499,
      9500, 9500, 9501, 9503, 9503, 9505, 9506, 9507, 9509, 9513, 9517, 9520,
      9521, 9521, 9521, 9521, 9521, 9523, 9524, 9525, 9526, 9531, 9531, 9532,
      9533, 9533, 9534, 9534, 9535, 9535, 9537, 9538, 9539, 9540, 9541, 9542,
      9543, 9544, 9545, 9546, 9547, 9548, 9549, 9549, 9551, 9552, 9554, 9556,
      9562, 9565, 9566, 9567, 9568, 9570, 9571, 9573, 9574, 9574, 9575, 9576,
      9577, 9578, 9580, 9581, 9582, 9582, 9584, 9585, 9586, 9588, 9589, 9593
    ].freeze

    updated_project_count = 0

    PROJECT_IDS.each do |id|
      project = Project.find(id)
      next if project.blank?
      next if project.archived?

      project.surveys.each do |survey|
        survey.assign_status('archived')
        survey.save!
      end
      updated_project_count += 1
    end

    puts "#{updated_project_count} projects archived"
  end
end
# rubocop:enable Metrics/BlockLength
